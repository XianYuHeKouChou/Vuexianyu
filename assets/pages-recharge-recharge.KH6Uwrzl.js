import{_ as e,o as t,A as s,w as r,b as i,G as l,B as o,D as a,C as d,i as h,v as c,r as n,a as u,c as f,F as g,d as p,e as x,t as b,T as m,f as _,h as w,Q as I}from"./index-Dk3PNdqW.js";const y=e({name:"UniGridItem",inject:["grid"],props:{index:{type:Number,default:0}},data:()=>({column:0,showBorder:!0,square:!0,highlight:!0,left:0,top:0,openNum:2,width:0,borderColor:"#e5e5e5"}),created(){this.column=this.grid.column,this.showBorder=this.grid.showBorder,this.square=this.grid.square,this.highlight=this.grid.highlight,this.top=0===this.hor?this.grid.hor:this.hor,this.left=0===this.ver?this.grid.ver:this.ver,this.borderColor=this.grid.borderColor,this.grid.children.push(this),this.width=this.grid.width},beforeDestroy(){this.grid.children.forEach(((e,t)=>{e===this&&this.grid.children.splice(t,1)}))},methods:{_onClick(){this.grid.change({detail:{index:this.index}})}}},[["render",function(e,c,n,u,f,g){const p=h;return f.width?(t(),s(p,{key:0,style:o("width:"+f.width+";"+(f.square?"height:"+f.width:"")),class:"uni-grid-item"},{default:r((()=>[i(p,{class:l([{"uni-grid-item--border":f.showBorder,"uni-grid-item--border-top":f.showBorder&&n.index<f.column,"uni-highlight":f.highlight},"uni-grid-item__box"]),style:o({"border-right-color":f.borderColor,"border-bottom-color":f.borderColor,"border-top-color":f.borderColor}),onClick:g._onClick},{default:r((()=>[a(e.$slots,"default",{},void 0,!0)])),_:3},8,["class","style","onClick"])])),_:3},8,["style"])):d("",!0)}],["__scopeId","data-v-0810a0ad"]]);const C=e({name:"UniGrid",emits:["change"],props:{column:{type:Number,default:3},showBorder:{type:Boolean,default:!0},borderColor:{type:String,default:"#D2D2D2"},square:{type:Boolean,default:!0},highlight:{type:Boolean,default:!0}},provide(){return{grid:this}},data:()=>({elId:`Uni_${Math.ceil(1e6*Math.random()).toString(36)}`,width:0}),created(){this.children=[]},mounted(){this.$nextTick((()=>{this.init()}))},methods:{init(){setTimeout((()=>{this._getSize((e=>{this.children.forEach(((t,s)=>{t.width=e}))}))}),50)},change(e){this.$emit("change",e)},_getSize(e){c().in(this).select(`#${this.elId}`).boundingClientRect().exec((t=>{this.width=parseInt((t[0].width-1)/this.column)+"px",e(this.width)}))}}},[["render",function(e,d,c,n,u,f){const g=h;return t(),s(g,{class:"uni-grid-wrap"},{default:r((()=>[i(g,{id:u.elId,ref:"uni-grid",class:l(["uni-grid",{"uni-grid--border":c.showBorder}]),style:o({"border-left-color":c.borderColor})},{default:r((()=>[a(e.$slots,"default",{},void 0,!0)])),_:3},8,["id","class","style"])])),_:3})}],["__scopeId","data-v-257e8068"]]);const k=e({data:()=>({userInfo:{},chooseIndex:0,rechargeList:[{price:20,sellPrice:20},{price:50,sellPrice:50},{price:100,sellPrice:100},{price:200,sellPrice:200},{price:300,sellPrice:300},{price:500,sellPrice:500}]}),onReady(){this.$req.ceshi=this.$refs.loadToast,this.userInfo=JSON.parse(JSON.stringify(this.$global.userInfo))},methods:{changeIndex(e){this.chooseIndex=e},recharge(){this.$req.httpPut("/api/test-user",{data:{userBalance:Number(this.userInfo.userBalance)+this.rechargeList[this.chooseIndex].sellPrice}},(e=>{this.$global.userInfo=e.data,this.userInfo=JSON.parse(JSON.stringify(this.$global.userInfo))}))}}},[["render",function(e,o,a,d,c,k){const B=_,v=w,$=h,P=n(u("uni-grid-item"),y),N=n(u("uni-grid"),C),q=I,S=n(u("loading"),p);return t(),f(g,null,[i($,{class:"p-10 flex flex-col"},{default:r((()=>[i($,{class:"flex-center justif-between rounded-xl p-20",style:{"background-color":"#f5f5f5"}},{default:r((()=>[i($,{class:"flex-center"},{default:r((()=>[i(B,{src:c.userInfo.userAvatar,class:"w-50 h-50 rounded-5xl",onClick:e.chooseAvatar},null,8,["src","onClick"]),i($,{class:"flex flex-col ml-10"},{default:r((()=>[i(v,{class:"text-base text-black"},{default:r((()=>[x(b(c.userInfo.userName),1)])),_:1}),i(v,{class:"text-lg text-red text-bold mt-5"},{default:r((()=>[x("余额："+b(c.userInfo.userBalance)+"￥",1)])),_:1})])),_:1})])),_:1}),i(B,{src:"/assets/rechrge-5T3enzXZ.png",mode:"",class:"w-130 h-40"})])),_:1}),i($,{class:"mt-20"},{default:r((()=>[i(N,{column:3,showBorder:!1,square:!1,highlight:!1},{default:r((()=>[(t(!0),f(g,null,m(c.rechargeList,((e,o)=>(t(),s(P,{key:o},{default:r((()=>[i($,{class:"p-5"},{default:r((()=>[i($,{class:l(["pt-10 pb-10 flex-center flex-col",c.chooseIndex===o?"checked-box":"default-box"]),onClick:e=>k.changeIndex(o)},{default:r((()=>[i(v,{class:"text-xl text-black"},{default:r((()=>[x(b(e.price)+"元",1)])),_:2},1024),i(v,{class:"text-xs text-blue"},{default:r((()=>[x("售价 "+b(e.sellPrice)+"￥",1)])),_:2},1024)])),_:2},1032,["class","onClick"])])),_:2},1024)])),_:2},1024)))),128))])),_:1})])),_:1}),i($,{class:""},{default:r((()=>[i(q,{type:"default",class:"rounded-5xl mt-30 w-full",style:{"background-color":"#007aff !important",color:"#fff"},onClick:k.recharge},{default:r((()=>[x("￥"+b(c.rechargeList[c.chooseIndex].sellPrice)+"立即支付",1)])),_:1},8,["onClick"])])),_:1})])),_:1}),i(S,{ref:"loadToast"},null,512)],64)}],["__scopeId","data-v-dd0980ac"]]);export{k as default};
